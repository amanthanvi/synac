---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';
import Search from '../components/Search.astro';

const seeds = await getCollection('terms');
const seedList = seeds
	.filter((e) => ['syn', 'ack', 'pki', 'tls', 'xss', 'zero-trust'].includes(e.slug))
	.sort((a, b) => a.slug.localeCompare(b.slug));
---

<BaseLayout title="SynAc">
	<h1>SynAc</h1>
	<p>
		Source-anchored cybersecurity glossary. Fast, offline-capable, with evidence-first
		definitions.
	</p>
	<section class="intro" aria-labelledby="about-heading">
		<h2 id="about-heading">What is SynAc?</h2>
		<p>
			SynAc is a source‑anchored cybersecurity glossary. It provides concise, evidence‑first
			definitions with provenance (NIST, RFCs, MITRE), offline‑capable deterministic search,
			and strict security posture.
		</p>
	</section>

	<section class="popular" aria-labelledby="popular-heading">
		<h3 id="popular-heading">Popular searches</h3>
		<nav class="chips" aria-label="Popular searches">
			<a class="btn-chip" href="/?q=tls&sources=RFC&types=protocol">TLS</a>
			<a class="btn-chip" href="/?q=jwt&sources=RFC">JWT</a>
			<a class="btn-chip" href="/?q=oauth2">OAuth 2.0</a>
			<a class="btn-chip" href="/?q=xss&types=vulnerability">XSS</a>
			<a class="btn-chip" href="/?q=mtls&types=protocol">mTLS</a>
			<a class="btn-chip" href="/?q=quic&types=protocol">QUIC</a>
			<a class="btn-chip" href="/?q=pki">PKI</a>
			<a class="btn-chip" href="/?q=x509">X.509</a>
			<a class="btn-chip" href="/?q=dos&types=vulnerability">DoS</a>
			<a class="btn-chip" href="/?q=csrf&types=vulnerability">CSRF</a>
		</nav>
	</section>

	<Search />

	<section class="section">
		<h2>Seed terms</h2>
		<ul>
			{
				seedList.map((e) => (
					<li>
						<a href={`/terms/${e.slug}`}>{e.data.term}</a>
					</li>
				))
			}
		</ul>
	</section>
</BaseLayout>
